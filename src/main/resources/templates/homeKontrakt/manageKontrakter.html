<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="/kontrakterCSS.css">
    <title>Lejekontrakter</title>
</head>
<body>
<h1 class="lejekontrakt-h1">Alle lejekontrakter</h1>

<div class="back-button-container">
    <a th:href="@{/backToManagePage}" class="back-button">← Tilbage til start</a>
</div>


<a th:href="@{/nyKontrakt}" class="ny-lejekontrakt-knap">Tilføj ny lejekontrakt</a>

<form th:action="@{/kundensKontrakter}" method="post">
    <label>Søg efter en kundes lejekontraker</label>
    <input type="tel" name="telefonnummer" placeholder="Kundens telefonnummer" required min="10000000" max="99999999">
    <button type="submit" class="søg-efter-kundens-kontraker">Søg efter kundens kontrakter</button>
</form>


<!-- Success message -->
<div th:if="${successMessage}" class="success-message">
    <p th:text="${successMessage}"></p>
</div>

<!-- Error message -->
<div th:if="${errorMessage}" class="error-message">
    <p th:text="${errorMessage}"></p>
</div>

<div th:if="${ikkeFundet}" class="error-message">
    <p th:text="${ikkeFundet}"></p>
</div>

<table class="lejekontrakt-table">
    <thead>
    <tr>
        <th>Lejekontrakt_id</th>
        <th>Telefonnummer</th>
        <th>Nummerplade</th>
        <th>Start dato</th>
        <th>Slut dato</th>
        <th>Max km</th>
        <th>Pris</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="lejekontrakt: ${lejekontrakter}">
        <td th:text="${lejekontrakt.lejekontrakt_id}"></td>
        <td th:text="${lejekontrakt.telefonnummer}"></td>
        <td th:text="${lejekontrakt.nummerplade}"></td>
        <td th:text="${lejekontrakt.startdato}"></td>
        <td th:text="${lejekontrakt.slutdato}"></td>
        <td th:text="${lejekontrakt.maxKm}"></td>
        <td th:text="${lejekontrakt.pris}"></td>
        <td class="slet-kontrakt">
            <form th:action="@{/sletKontrakt}" method="post">
                <input type="hidden" name="lejekontrakt_id" th:value="${lejekontrakt.lejekontrakt_id}">
                <button type="submit" class="slet-kontrakt-knap">Slet lejekontrakt</button>
            </form>
        </td>
    </tr>
    </tbody>
</table>
</body>
</html>